# Staker CI
version: 1.0.0.{build}
image:
  - Visual Studio 2019
  - Ubuntu2004
  - macOS
platform:
  - x64
configuration:
  - Release
environment:
  nodejs_version: "16"
clone_depth: 1
cache:
  - C:\cache
install:
  - cmd: powershell Install-Product node $env:nodejs_version
  - sh: nvm install $nodejs_version
  - npm install yarn -g
  # before_build:
  #   - dir C:\cache >nul 2>&1 || mkdir C:\cache
  #   - wslconfig /u Ubuntu-18.04
  #   - ps: tools\setup_wsl.ps1
  #   - C:\Python37\python -m pip install --disable-pip-version-check paramiko >NUL
  #   - C:\Python37\python tools\setupssh.py support@localhost support
build_script:
  - yarn
  - yarn build
test: off
